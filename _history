{"entries":[{"timestamp":1747896304760,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"7o2%SmO31]z%F1=nlokn\">buttonState</variable><variable id=\"I`rrts6~nb)5!+EZV=u9\">lastState</variable><variable id=\"%hRJm0nLUidY{L_nQ1qi\">RADIO_GROUP"],[1,"`siOZ)+0fcq24a;(9x)I\">RADIO_GROUP</variable><variable id=\"O$@yMKdiKN0lay,:eeeX\">BUTTON_PIN"],[0,"</va"]],"start1":76,"start2":76,"length1":155,"length2":98},{"diffs":[[0,"art\""],[-1," id=\"EbnZxiwqaH0:r=f8HK^G\""],[0," x=\""]],"start1":215,"start2":215,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"%eE$3wRrr!fRe@+wwJru\""],[0,"><fi"]],"start1":283,"start2":283,"length1":34,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"%hRJm0nLUidY{L_nQ1qi"],[1,"`siOZ)+0fcq24a;(9x)I"],[0,"\">RADIO_"]],"start1":302,"start2":302,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[1,"B "],[0,"按鈕 "],[-1,"A 發送端\n無線電組ID"],[1,"Micro:bit"],[0,"</co"]],"start1":386,"start2":386,"length1":23,"length2":22},{"diffs":[[0,"ber\""],[-1," id=\":oCz`iIw{[;0.%_x/7AE\""],[0,"><fi"]],"start1":456,"start2":456,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"6eFlF/V0F}:8}si{+5OA\"><field name=\"VAR\" id=\"I`rrts6~nb)5!+EZV=u9\">lastState</field><comment pinned=\"false\" h=\"80\" w=\"160\">當前按鈕狀態\n上次按鈕狀態</comment"],[1,"><field name=\"VAR\" id=\"O$@yMKdiKN0lay,:eeeX\">BUTTON_PIN</field"],[0,"><va"]],"start1":536,"start2":536,"length1":157,"length2":70},{"diffs":[[0,"ber\""],[-1," id=\"6D3VE[US.V{b*QSJ^Ge|\""],[0,"><fi"]],"start1":645,"start2":645,"length1":34,"length2":8},{"diffs":[[0,"e=\"NUM\">"],[-1,"-1"],[1,"0"],[0,"</field>"]],"start1":660,"start2":660,"length1":18,"length2":17},{"diffs":[[0,"field></shadow><"],[1,"block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P0</field></block><"],[0,"/value><next><bl"]],"start1":671,"start2":671,"length1":32,"length2":105},{"diffs":[[0,"oup\""],[-1," id=\"~Mu,h$()~A26+!2Z1(gj\""],[0,"><co"]],"start1":798,"start2":798,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"J12CV,b~)J#mqRQ/zL:f\""],[0,"><mu"]],"start1":901,"start2":901,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"$}npM!E|18rK^E7N,M0C\""],[0,"><fi"]],"start1":1021,"start2":1021,"length1":34,"length2":8},{"diffs":[[0,"id=\""],[-1,"%hRJm0nLUidY{L_nQ1qi"],[1,"`siOZ)+0fcq24a;(9x)I"],[0,"\">RA"]],"start1":1044,"start2":1044,"length1":28,"length2":28},{"diffs":[[0,"ice_"],[-1,"print_message\" id=\"=8tK/USY%q3ar8Lf@[j~\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示\"A\"表示按鈕A</comment><value name=\"text\"><shadow type=\"text\" id=\"qgtKa)uo~72v+/,F%yk2\"><field name=\"TEXT\">A</field></shadow></value><next><block type=\"device_pause\" id=\"*ZKp5#pW?DFf^lPIeU8~\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\" id=\"a.=ea/]H6hvD]IA;#|[$\"><field name=\"ms\">100</field></shadow></value><next><block type=\"device_clear_display\" id=\"B#.cmd%?Jl8[_{QByjaa\"></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" id=\"761t,bu`Fq8wkqB=]!GK\" x=\"393\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">主循環：檢測按鈕狀態</comment><statement name=\"HANDLER\"><block type=\"variables_set\" id=\"^W!|e`Zq-2i+z6@!{22u\"><field name=\"VAR\" id=\"7o2%SmO31]z%F1=nlokn\">buttonState"],[1,"set_pull\"><field name=\"pull\">PinPullMode.PullDown"],[0,"</fi"]],"start1":1127,"start2":1127,"length1":874,"length2":57},{"diffs":[[0,"60\">"],[-1,"讀取P0按鈕狀態（0:按下, 1:鬆開）"],[1,"下拉電阻，按下為高電平"],[0,"</co"]],"start1":1223,"start2":1223,"length1":28,"length2":19},{"diffs":[[0,"me=\""],[-1,"VALUE\"><shadow type=\"math_number\" id=\"7=lhe1rhkU3lYxCv9c|-\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\" id=\"90y**rzOHuopy8QbYvm`\"><value name=\"name"],[1,"pin"],[0,"\"><s"]],"start1":1257,"start2":1257,"length1":184,"length2":11},{"diffs":[[0,"dow\""],[-1," id=\"4?/$:xs7!/|auu6t$ev2\""],[0,"><fi"]],"start1":1295,"start2":1295,"length1":34,"length2":8},{"diffs":[[0,"ow><"],[-1,"/value></block></value><next><block type=\"controls_if\" id=\"t0a/g5OSx@U.,B5:GD$g\"><comment pinned=\"false\" h=\"80\" w=\"160\">僅在狀態變化時發送</comment><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"G*s|XzgEUSH!.JE!Y#;k\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"v[uiT$h_Da2W3jXScL}i\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"I(K*S.G|.mb?G0.J}m}{\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"3Lxz1qEH8F50Aqy]kT:5\"><field name=\"VAR\" id=\"7o2%SmO31]z%F1=nlokn\">buttonState</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"2;.D70rO@GjdoEuEbth}\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"h/y,Ah8}aH:$^[0}3Ntm\"><field name=\"VAR\" id=\"I`rrts6~nb)5!+EZV=u9\">lastState</field"],[1,"block type=\"variables_get\"><field name=\"VAR\" id=\"O$@yMKdiKN0lay,:eeeX\">BUTTON_PIN</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"pins.onPulsed(BUTTON_PIN, PulseValue.High, function () {\" line1=\"    sendAnswerB();\" line2=\"});\" numlines=\"3\"></mutation"],[0,"></b"]],"start1":1345,"start2":1345,"length1":799,"length2":328},{"diffs":[[0,"ation></block></"],[-1,"value"],[1,"next"],[0,"></block></value"]],"start1":1664,"start2":1664,"length1":37,"length2":36},{"diffs":[[0,"k></"],[-1,"value><statement name=\"DO0\""],[1,"next"],[0,"><"],[1,"/"],[0,"block"],[-1," type=\"controls_if\" id=\"E]tKHw]VU/(u6Lg7e%s4\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"B4@FOZ/`0vAUbABJ8BEr\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"a?_g3*Hn3Cp$[mC:@K,b\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"Y.kVdc;Wj}|v.]JmycfU\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"Q|6(aMzf3=D6SA68#gfU\"><field name=\"VAR\" id=\"7o2%SmO31]z%F1=nlokn\">buttonState</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"q{Z^MC!u=Zsof_i:0KU0\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send\" id=\"4Hc$ro2is+.Z:bMtFRlO\""],[1,"></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"635\" y=\"20\"><field name=\"NAME\">Button.A</field"],[0,"><co"]],"start1":1691,"start2":1691,"length1":760,"length2":154},{"diffs":[[0,"60\">"],[-1,"按下\n發送前進信號"],[1,"內建 A 鍵"],[0,"</co"]],"start1":1877,"start2":1877,"length1":17,"length2":14},{"diffs":[[0,"nt><"],[-1,"value name=\"value\"><shadow type=\"math_number\" id=\"8YWJ.m@VJFBT]T}WmQwV\"><field name=\"NUM\">12</field></shadow></value><next><block type=\"device_show_leds\" id=\"NdA)8mmThq1_3CxsZ%Px\"><field name=\"LEDS\">`\n        . . # . . \n        . # # # . \n        # # # # # \n        . . # . . \n        . . # . .\n        `</field><comment pinned=\"false\" h=\"80\" w=\"160\">向上箭頭</comment></block></next"],[1,"statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"sendAnswerB\" functionid=\"^ALPMM6{!X[v=?F=gU$n\"></mutation"],[0,"></b"]],"start1":1894,"start2":1894,"length1":387,"length2":134},{"diffs":[[0,"nt><"],[-1,"statement name=\"ELSE\""],[1,"/block"],[0,"><bl"]],"start1":2042,"start2":2042,"length1":29,"length2":14},{"diffs":[[0,"pe=\""],[-1,"rad"],[1,"funct"],[0,"io"],[1,"n"],[0,"_d"],[-1,"atagram_send\" id=\"5D^g1.s5%_V,C?-1JwK0\"><comment pinned=\"false\" h=\"80\" w=\"160\">鬆開\n發送停止信號</comment><value name=\"value\"><shadow type=\"math_numb"],[1,"efinition\" x=\"20\" y=\"471\"><mutation name=\"sendAnsw"],[0,"er"],[1,"B"],[0,"\" "],[-1,"id=\"Wxw-_q^M;l[9FW@lgwh6\"><field name=\"NUM\">14</field></shadow></value><next><block type=\"basic_show_icon\" id=\"/C?=@(IZz]u`4}w_JrM5\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">顯示停止圖標</comment></block></next></block></statement><next><block type=\"variables_set\" id=\"UAkjDC3XCy{=wj-#s#}H\"><field name=\"VAR\" id=\"I`rrts6~nb)5!+EZV=u9\">lastState</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"8,(LVCF;@SEvv?FwXp^(\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"^wU0o8t4v@zR`6G8+1GC\"><field name=\"VAR\" id=\"7o2%SmO31]z%F1=nlokn\">buttonState</field></block></value></block></next></block></statement><next><block type=\"device_pause\" id=\"gGm$XDE?e[GaI^O+ysbn"],[1,"functionid=\"^ALPMM6{!X[v=?F=gU$n\"></mutation><field name=\"function_name\">sendAnswerB</field><comment pinned=\"false\" h=\"80\" w=\"160\">下拉電阻，按下為高電平\n發送答案 B</comment><statement name=\"STACK\"><block type=\"radio_datagram_send"],[0,"\"><c"]],"start1":2062,"start2":2062,"length1":874,"length2":288},{"diffs":[[0,"60\">"],[-1,"降低延遲，加快響應"],[1,"發送 2（答案 B）"],[0,"</co"]],"start1":2383,"start2":2383,"length1":17,"length2":18},{"diffs":[[0,"me=\""],[-1,"paus"],[1,"valu"],[0,"e\"><"]],"start1":2416,"start2":2416,"length1":12,"length2":12},{"diffs":[[0,"pe=\""],[-1,"timePicker\" id=\"_Iesz;%$P[=BM2r(tl]g"],[1,"math_number"],[0,"\"><f"]],"start1":2437,"start2":2437,"length1":44,"length2":19},{"diffs":[[0,"me=\""],[-1,"ms"],[1,"NUM"],[0,"\">2"],[-1,"0"],[0,"</fi"]],"start1":2463,"start2":2463,"length1":14,"length2":14},{"diffs":[[0,"k></"],[-1,"next></block></next></block></"],[0,"stat"]],"start1":2504,"start2":2504,"length1":38,"length2":8}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let buttonState = 0\n// 按鈕 A 發送端\n// 無線電組ID\nle"],[1,"// 按鈕 A 發送端\ncons"],[0,"t RA"]],"start1":0,"start2":0,"length1":48,"length2":20},{"diffs":[[0," 121"],[-1,"\n// 當前按鈕狀態\n// 上次"],[1,"  // 無線電組ID\nlet buttonState = 0      // 當前"],[0,"按鈕狀態"]],"start1":31,"start2":31,"length1":24,"length2":50},{"diffs":[[0,"ate = -1"],[1,"       // 上次按鈕狀態\n"],[0,"\n// 初始化\n"]],"start1":92,"start2":92,"length1":16,"length2":33},{"diffs":[[0,"UP)\n"],[-1,"// 顯示\"A\"表示按鈕A\n"],[0,"basi"]],"start1":149,"start2":149,"length1":22,"length2":8},{"diffs":[[0,"ing(\"A\")"],[1,"  // 顯示\"A\"表示按鈕A"],[0,"\nbasic.p"]],"start1":166,"start2":166,"length1":16,"length2":31},{"diffs":[[0,"creen()\n"],[1,"\n"],[0,"// 主循環：檢"]],"start1":219,"start2":219,"length1":16,"length2":17},{"diffs":[[0,") {\n"],[-1,"    // 讀取P0按鈕狀態（0:按下, 1:鬆開）\n"],[0,"    "]],"start1":266,"start2":266,"length1":36,"length2":8},{"diffs":[[0,"lPin.P0)"],[1,"  // 讀取P0按鈕狀態（0:按下, 1:鬆開）\n"],[0,"\n    // "]],"start1":314,"start2":314,"length1":16,"length2":42},{"diffs":[[0," == 0) {"],[-1,"\n          "],[0,"  // 按下\n"]],"start1":425,"start2":425,"length1":27,"length2":16},{"diffs":[[0,"    "],[-1,"// 發送前進信號\n            radio.sendNumber(12)\n            // 向上箭頭"],[1,"radio.sendNumber(12)  // 發送前進信號"],[0,"\n   "]],"start1":449,"start2":449,"length1":70,"length2":39},{"diffs":[[0,"      `)"],[1,"  // 向上箭頭"],[0,"\n       "]],"start1":654,"start2":654,"length1":16,"length2":25},{"diffs":[[0,"} else {"],[-1,"\n          "],[0,"  // 鬆開\n"]],"start1":680,"start2":680,"length1":27,"length2":16},{"diffs":[[0,"    "],[-1,"// 發送停止信號\n            radio.sendNumber(14)\n            // 顯示停止圖標"],[1,"radio.sendNumber(14)  // 發送停止信號"],[0,"\n   "]],"start1":704,"start2":704,"length1":72,"length2":39},{"diffs":[[0,"ames.No)"],[1,"  // 顯示停止圖標"],[0,"\n       "]],"start1":772,"start2":772,"length1":16,"length2":27},{"diffs":[[0,"  }\n"],[-1,"    // 降低延遲，加快響應"],[0,"\n   "]],"start1":836,"start2":836,"length1":24,"length2":8},{"diffs":[[0,"(20)"],[1,"  // 降低延遲，加快響應"],[0,"\n})"],[-1,"\n"]],"start1":856,"start2":856,"length1":8,"length2":21}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"\": \""],[-1,"AB button A"],[1,"按鈕 A ("],[0,"121"],[1,")"],[0,"\",\n "]],"start1":11,"start2":11,"length1":22,"length2":18},{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":289,"start2":289,"length1":52,"length2":8},{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":561,"start2":561,"length1":21,"length2":17}]},{"type":"added","filename":"test.ts","value":"// 在這裡測試；當此封包作為擴充功能時，將不會編譯此內容。\n"}]}],"snapshots":[{"timestamp":1747896304759,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"`siOZ)+0fcq24a;(9x)I\">RADIO_GROUP</variable><variable id=\"O$@yMKdiKN0lay,:eeeX\">BUTTON_PIN</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"`siOZ)+0fcq24a;(9x)I\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">B 按鈕 Micro:bit</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">121</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O$@yMKdiKN0lay,:eeeX\">BUTTON_PIN</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P0</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`siOZ)+0fcq24a;(9x)I\">RADIO_GROUP</field></block></value><next><block type=\"device_set_pull\"><field name=\"pull\">PinPullMode.PullDown</field><comment pinned=\"false\" h=\"80\" w=\"160\">下拉電阻，按下為高電平</comment><value name=\"pin\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O$@yMKdiKN0lay,:eeeX\">BUTTON_PIN</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"pins.onPulsed(BUTTON_PIN, PulseValue.High, function () {\" line1=\"    sendAnswerB();\" line2=\"});\" numlines=\"3\"></mutation></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"635\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">內建 A 鍵</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"sendAnswerB\" functionid=\"^ALPMM6{!X[v=?F=gU$n\"></mutation></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"471\"><mutation name=\"sendAnswerB\" functionid=\"^ALPMM6{!X[v=?F=gU$n\"></mutation><field name=\"function_name\">sendAnswerB</field><comment pinned=\"false\" h=\"80\" w=\"160\">下拉電阻，按下為高電平\n發送答案 B</comment><statement name=\"STACK\"><block type=\"radio_datagram_send\"><comment pinned=\"false\" h=\"80\" w=\"160\">發送 2（答案 B）</comment><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></statement></block></xml>","main.ts":"// 按鈕 A 發送端\nconst RADIO_GROUP = 121  // 無線電組ID\nlet buttonState = 0      // 當前按鈕狀態\nlet lastState = -1       // 上次按鈕狀態\n\n// 初始化\nradio.setGroup(RADIO_GROUP)\nbasic.showString(\"A\")  // 顯示\"A\"表示按鈕A\nbasic.pause(100)\nbasic.clearScreen()\n\n// 主循環：檢測按鈕狀態\nbasic.forever(function () {\n    buttonState = pins.digitalReadPin(DigitalPin.P0)  // 讀取P0按鈕狀態（0:按下, 1:鬆開）\n\n    // 僅在狀態變化時發送\n    if (buttonState != lastState) {\n        if (buttonState == 0) {  // 按下\n            radio.sendNumber(12)  // 發送前進信號\n            basic.showLeds(`\n                . . # . .\n                . # # # .\n                # # # # #\n                . . # . .\n                . . # . .\n                `)  // 向上箭頭\n        } else {  // 鬆開\n            radio.sendNumber(14)  // 發送停止信號\n            basic.showIcon(IconNames.No)  // 顯示停止圖標\n        }\n        lastState = buttonState\n    }\n\n    basic.pause(20)  // 降低延遲，加快響應\n})","README.md":"","pxt.json":"{\n    \"name\": \"按鈕 A (121)\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"neopixel\": \"github:microsoft/pxt-neopixel#v0.7.6\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"targetVersions\": {\n        \"branch\": \"v7.0.61\",\n        \"tag\": \"v7.0.61\",\n        \"commits\": \"https://github.com/microsoft/pxt-microbit/commits/1bb8145a013b8c3718bf6c82138e87e3ecb5514d\",\n        \"target\": \"7.0.61\",\n        \"pxt\": \"11.1.14\"\n    },\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1747896360381}